# AIåŠ©æ‰‹ç»ˆç«¯é›†æˆå¼€å‘è®°å½•

## ä¸€ã€æœ€åˆéœ€æ±‚

ç”¨æˆ·éœ€è¦åœ¨Monitorç›‘æ§ç³»ç»Ÿä¸­å¼€å‘ä¸€ä¸ªé›†æˆåœ¨ä¸»æœºè¯¦æƒ…é¡µçš„AIåŠ©æ‰‹åŠŸèƒ½ï¼Œæ”¯æŒä¼šè¯ç®¡ç†ã€æ¶ˆæ¯å†å²ã€ä¸Šä¸‹æ–‡ä¿æŒå’Œæ™ºèƒ½æ€»ç»“å‹ç¼©ã€‚

---

## äºŒã€åˆå§‹æ¶æ„è®¾è®¡

### 2.1 åŠŸèƒ½éœ€æ±‚
1. **ä¼šè¯ç®¡ç†**ï¼šæ”¯æŒå¤šä¼šè¯ã€ä¼šè¯åˆ—è¡¨å±•ç¤ºã€ä¼šè¯åˆ‡æ¢ã€ä¼šè¯åˆ é™¤
2. **æ¶ˆæ¯ç®¡ç†**ï¼šæ¶ˆæ¯å‘é€ã€æ¶ˆæ¯å†å²åŠ è½½ã€æ¶ˆæ¯æ¸…ç©º
3. **ä¸Šä¸‹æ–‡ç®¡ç†**ï¼šä¿æŒå¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡ï¼Œæ”¯æŒé•¿å¯¹è¯çš„æ€»ç»“å‹ç¼©
4. **ä¸»æœºå…³è”**ï¼šä¼šè¯å¯å…³è”ä¸»æœºï¼ŒAIå¯è·å–ä¸»æœºä¸Šä¸‹æ–‡ä¿¡æ¯

### 2.2 æŠ€æœ¯é€‰å‹
- **åç«¯**ï¼šSpring Boot 3.5.10 + LangChain4j
- **å‰ç«¯**ï¼šVue 3 + TypeScript
- **å­˜å‚¨**ï¼šRedisï¼ˆä¼šè¯ã€æ¶ˆæ¯ã€æ€»ç»“ï¼‰
- **AIæ¨¡å‹**ï¼šGLM-4.7ï¼ˆBigModel APIï¼‰æˆ– Ollamaæœ¬åœ°æ¨¡å‹

### 2.3 åˆå§‹å¼€å‘æ­¥éª¤

```
æ­¥éª¤1: åŸºç¡€å®ä½“ç±»
  â”œâ”€â”€ Message.java           - èŠå¤©æ¶ˆæ¯å®ä½“
  â””â”€â”€ SessionInfo.java       - ä¼šè¯ä¿¡æ¯å®ä½“ï¼ˆRedisæ˜ å°„ï¼‰

æ­¥éª¤2: Rediså·¥å…·ç±»
  â””â”€â”€ ModelRedisUtils.java   - æ¶ˆæ¯å’Œä¼šè¯çš„Redisæ“ä½œ

æ­¥éª¤3: Serviceå±‚
  â””â”€â”€ ChatService.java       - èŠå¤©æœåŠ¡é€»è¾‘

æ­¥éª¤4: Controllerå±‚
  â”œâ”€â”€ DTOç±»                  - è¯·æ±‚/å“åº”å¯¹è±¡
  â””â”€â”€ ChatController.java    - HTTP REST API

æ­¥éª¤5: å‰ç«¯é›†æˆ
  â””â”€â”€ AIAssistant.vue        - èŠå¤©ç•Œé¢ç»„ä»¶
```

---

## ä¸‰ã€å¼€å‘è¿›åº¦

### 3.1 å·²å®ŒæˆåŠŸèƒ½ï¼ˆåœºæ™¯Aï¼šå…¨å±€ä¾§è¾¹æ AIåŠ©æ‰‹ï¼‰

| æ­¥éª¤ | å†…å®¹ | çŠ¶æ€ |
|------|------|------|
| æ­¥éª¤1 | åŸºç¡€å®ä½“ç±» | âœ… å®Œæˆ |
| æ­¥éª¤2 | Rediså·¥å…·ç±» | âœ… å®Œæˆ |
| æ­¥éª¤3 | Serviceå±‚ | âœ… å®Œæˆ |
| æ­¥éª¤4 | Controllerå±‚ | âœ… å®Œæˆ |

### 3.2 å·²åˆ›å»ºæ–‡ä»¶ï¼ˆåœºæ™¯Aï¼‰

```
monitor-project/Monitor-Server/src/main/java/com/hundred/monitor/server/ai/

â”œâ”€â”€ entity/
â”‚   â”œâ”€â”€ Message.java                    âœ… èŠå¤©æ¶ˆæ¯å®ä½“
â”‚   â””â”€â”€ SessionInfo.java                âœ… ä¼šè¯ä¿¡æ¯å®ä½“
â”‚
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ ModelRedisUtils.java            âœ… Rediså·¥å…·ç±»
â”‚
â”œâ”€â”€ service/
â”‚   â””â”€â”€ ChatService.java                âœ… èŠå¤©æœåŠ¡
â”‚
â””â”€â”€ controller/
    â””â”€â”€ ChatController.java             âœ… HTTP REST API
```

---

## å››ã€å¼€å‘æš‚åœä¸é‡æ–°åˆ†æ

### 4.1 æš‚åœåŸå› 

ç”¨æˆ·å‘ç°æˆ‘å¯¹éœ€æ±‚çš„ç†è§£å­˜åœ¨åå·®ï¼Œéœ€è¦é‡æ–°æ˜ç¡®æ¶æ„è®¾è®¡ã€‚

### 4.2 ç”¨æˆ·æ¾„æ¸…çš„å…³é”®ä¿¡æ¯

1. **ä¸¤ç§AIåŠ©æ‰‹åœºæ™¯ï¼Œå®Œå…¨ç‹¬ç«‹ï¼Œæ— äº¤é›†**

2. **åœºæ™¯Aï¼šå…¨å±€ä¾§è¾¹æ AIåŠ©æ‰‹**
   - ä½ç½®ï¼šå…¨å±€ä¾§è¾¹æ 
   - é€šä¿¡æ–¹å¼ï¼šHTTP REST API
   - åŠŸèƒ½ï¼šé€šç”¨AIå¯¹è¯ï¼Œä¸å…³è”ä¸»æœº
   - å·²å¼€å‘ï¼šChatController + ChatService

3. **åœºæ™¯Bï¼šä¸»æœºè¯¦æƒ…é¡µAIåŠ©æ‰‹**ï¼ˆæœ¬æ¬¡å¼€å‘é‡ç‚¹ï¼‰
   - ä½ç½®ï¼šä¸»æœºè¯¦æƒ…é¡µ
   - é€šä¿¡æ–¹å¼ï¼šWebSocketé•¿è¿æ¥
   - åŠŸèƒ½ï¼šä¸SSHç»ˆç«¯ç»‘å®šçš„AIåŠ©æ‰‹ï¼Œå¯ç›´æ¥æ‰§è¡ŒSSHå‘½ä»¤
   - çŠ¶æ€ï¼šå¾…å¼€å‘

### 4.3 é‡æ–°ç†è§£çš„æ ¸å¿ƒé€»è¾‘

#### ä¸»æœºè¯¦æƒ…é¡µAIåŠ©æ‰‹äº¤äº’æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤1ï¼šç”¨æˆ·æ‰“å¼€SSHç»ˆç«¯                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å‰ç«¯ç‚¹å‡»[è¿æ¥ç»ˆç«¯]æŒ‰é’®                                              â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ WebSocketè¿æ¥: ws://server/ws/ssh/terminal/{sshSessionId}          â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ åç«¯SshWebSocketHandlerå¤„ç†ï¼ˆå·²æœ‰ï¼‰                                 â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ å‰ç«¯è·å¾— sshSessionId                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤2ï¼šç”¨æˆ·æ‰“å¼€AIåŠ©æ‰‹                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å‰ç«¯ç‚¹å‡»[æ‰“å¼€AIåŠ©æ‰‹]æŒ‰é’®                                            â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ æ£€æŸ¥: sshSessionId æ˜¯å¦å­˜åœ¨?                                        â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â”œâ”€ ä¸å­˜åœ¨ â†’ æç¤º"è¯·å…ˆæ‰“å¼€ç»ˆç«¯"                                  â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â””â”€ å­˜åœ¨ â†’ å‘é€HTTPè¯·æ±‚                                          â”‚  â”‚
â”‚  â”‚           â”‚                                                        â”‚  â”‚
â”‚  â”‚           â–¼                                                        â”‚  â”‚
â”‚  â”‚     POST /api/ai/ssh-assistant/connect                             â”‚  â”‚
â”‚  â”‚     {                                                              â”‚  â”‚
â”‚  â”‚       "sshSessionId": "xxx",                                       â”‚  â”‚
â”‚  â”‚       "agentId": "agent-001"                                       â”‚  â”‚
â”‚  â”‚     }                                                              â”‚  â”‚
â”‚  â”‚           â”‚                                                        â”‚  â”‚
â”‚  â”‚           â–¼                                                        â”‚  â”‚
â”‚  â”‚     åç«¯åˆ›å»ºAIä¼šè¯ï¼Œè¿”å› aiSessionId                                â”‚  â”‚
â”‚  â”‚     {                                                              â”‚  â”‚
â”‚  â”‚       "aiSessionId": "yyy"                                         â”‚  â”‚
â”‚  â”‚     }                                                              â”‚  â”‚
â”‚  â”‚           â”‚                                                        â”‚  â”‚
â”‚  â”‚           â–¼                                                        â”‚  â”‚
â”‚  â”‚     åç«¯å­˜å‚¨ç»‘å®šå…³ç³»åˆ°Redis:                                        â”‚  â”‚
â”‚  â”‚     key: "ai:ssh:binding:{aiSessionId}"                            â”‚  â”‚
â”‚  â”‚     value: { sshSessionId, agentId }                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤3ï¼šå»ºç«‹AI WebSocketè¿æ¥                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å‰ç«¯ä½¿ç”¨ aiSessionId å»ºç«‹WebSocketè¿æ¥                              â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ WebSocketè¿æ¥: ws://server/ws/ai/ssh-assistant/{aiSessionId}       â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ åç«¯AiSshAssistantHandlerå¤„ç†                                       â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ ä»Redisè·å–ç»‘å®šå…³ç³»ï¼ˆsshSessionId, agentIdï¼‰                        â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ å°†WebSocketè¿æ¥ä¸ä¼šè¯å…³è”å­˜å‚¨                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤4ï¼šAIå¯¹è¯äº¤äº’                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ç”¨æˆ·å‘é€æ¶ˆæ¯                                                        â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ WebSocketæ¶ˆæ¯åˆ°è¾¾ AiSshAssistantHandler                            â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ AiSshAssistantService å¤„ç†                                          â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ æ„å»ºAIä¸Šä¸‹æ–‡:                                                       â”‚  â”‚
â”‚  â”‚   - ç³»ç»Ÿæç¤ºè¯                                                      â”‚  â”‚
â”‚  â”‚   - å½“å‰ä¸»æœºID (agentId)                                           â”‚  â”‚
â”‚  â”‚   - å†å²å¯¹è¯æ¶ˆæ¯                                                    â”‚  â”‚
â”‚  â”‚   - å†å²æ€»ç»“ï¼ˆå¦‚æœ‰ï¼‰                                                â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ è°ƒç”¨LangChain4j AIæ¨¡å‹                                              â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ AIå¯è°ƒç”¨SshExecuteToolæ‰§è¡ŒSSHå‘½ä»¤                                   â”‚  â”‚
â”‚  â”‚     â”‚                                                              â”‚  â”‚
â”‚  â”‚     â–¼                                                              â”‚  â”‚
â”‚  â”‚ è¿”å›AIå›å¤ â†’ WebSocketå‘é€ç»™å‰ç«¯                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.4 æ ¸å¿ƒæ¦‚å¿µ

#### SSH Session ä¸ AI Session çš„ç»‘å®šå…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å‰ç«¯                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ä¸»æœºè¯¦æƒ…é¡µ                                                        â”‚   â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚    â”‚  SSHç»ˆç«¯çª—å£     â”‚  â”‚  AIåŠ©æ‰‹é¢æ¿                     â”‚      â”‚   â”‚
â”‚  â”‚    â”‚  (xterm.js)      â”‚  â”‚  - æ¶ˆæ¯è¾“å…¥æ¡†                   â”‚      â”‚   â”‚
â”‚  â”‚    â”‚                 â”‚  â”‚  - AIå›å¤å±•ç¤º                   â”‚      â”‚   â”‚
â”‚  â”‚    â”‚  $ ls -la       â”‚  â”‚                                 â”‚      â”‚   â”‚
â”‚  â”‚    â”‚                 â”‚  â”‚  AI: æ­£åœ¨åˆ†ææ—¥å¿—...            â”‚      â”‚   â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                                    â”‚                          â”‚
â”‚         â”‚ sshSessionId                       â”‚ aiSessionId             â”‚
â”‚         â–¼                                    â–¼                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                          åç«¯                                    â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚  SSH WebSocket (å·²æœ‰)              AI WebSocket (å¾…å¼€å‘)          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚  â”‚ SshWebSocketHandler   â”‚        â”‚ AiSshAssistantHandler â”‚      â”‚   â”‚
â”‚  â”‚  â”‚ /ws/ssh/terminal/     â”‚        â”‚ /ws/ai/ssh-assistant/ â”‚      â”‚   â”‚
â”‚  â”‚  â”‚ {sshSessionId}        â”‚        â”‚ {aiSessionId}         â”‚      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â”‚              â”‚                              â”‚                      â”‚   â”‚
â”‚  â”‚              â”‚                              â”‚                      â”‚   â”‚
â”‚  â”‚              â–¼                              â–¼                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚  â”‚              Redis ç»‘å®šå…³ç³»                         â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  ai:ssh:binding:{aiSessionId} â†’ {                  â”‚          â”‚   â”‚
â”‚  â”‚  â”‚    "sshSessionId": "xxx",                          â”‚          â”‚   â”‚
â”‚  â”‚  â”‚    "agentId": "agent-001"                          â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  }                                                â”‚          â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### AIä¸Šä¸‹æ–‡è®¾è®¡

AIå¯¹è¯æ—¶çš„ä¸Šä¸‹æ–‡åŒ…å«ï¼š

| ç»„ä»¶ | è¯´æ˜ |
|------|------|
| **ç³»ç»Ÿæç¤ºè¯** | ä½ æ˜¯æœåŠ¡å™¨è¿ç»´AIåŠ©æ‰‹ï¼ŒæœåŠ¡äºMonitorç›‘æ§ç³»ç»Ÿ... |
| **ä¸»æœºä¿¡æ¯** | å½“å‰ä¸»æœºIDã€IPã€ä¸»æœºåç­‰ |
| **å†å²æ¶ˆæ¯** | è¿‘æœŸNæ¡å¯¹è¯æ¶ˆæ¯ |
| **å†å²æ€»ç»“** | æ¶ˆæ¯è¿‡å¤šæ—¶ç”Ÿæˆçš„æ€»ç»“ |
| **å¯ç”¨å·¥å…·** | SshExecuteTool - æ‰§è¡ŒSSHå‘½ä»¤ |

---

## äº”ã€é‡æ–°è®¾è®¡å¼€å‘æ­¥éª¤

### 5.1 æ–‡ä»¶é‡å‘½åè®¡åˆ’

| æ“ä½œ | åŸæ–‡ä»¶å | æ–°æ–‡ä»¶å | è¯´æ˜ |
|------|----------|----------|------|
| é‡å‘½å | `SshAssistantHandler.java` | `AiSshAssistantHandler.java` | WebSocketå¤„ç†å™¨ |
| é‡å‘½å | `SshAssistantManager.java` | `AiSshAssistantManager.java` | ä¼šè¯ç®¡ç†å™¨ |
| é‡å‘½å | `SshAssistantSession.java` | `AiSshAssistantSession.java` | ä¼šè¯å®ä½“ |

### 5.2 æ–°å¢æ–‡ä»¶è®¡åˆ’

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `AiSshAssistantController.java` | HTTPæ¡æ‰‹æ¥å£ï¼ˆè¿æ¥ã€æ–­å¼€ï¼‰ |
| `AiSshAssistantService.java` | AIå¯¹è¯æœåŠ¡é€»è¾‘ |
| `SshSessionBinding.java` | ç»‘å®šå…³ç³»å®ä½“ |
| `AiSshRedisUtils.java` | Redisæ“ä½œå·¥å…·ç±»ï¼ˆä¸“ç”¨ï¼‰ |
| `SshSessionContext.java` | ThreadLocalä¸Šä¸‹æ–‡æŒæœ‰è€… |

### 5.3 å¼€å‘æ­¥éª¤

```
æ­¥éª¤1: æ–‡ä»¶é‡å‘½å
  â”œâ”€â”€ SshAssistantHandler.java â†’ AiSshAssistantHandler.java
  â”œâ”€â”€ SshAssistantManager.java â†’ AiSshAssistantManager.java
  â””â”€â”€ SshAssistantSession.java â†’ AiSshAssistantSession.java

æ­¥éª¤2: å¼€å‘åŸºç¡€å®ä½“
  â””â”€â”€ SshSessionBinding.java      - SSHä¸AIä¼šè¯ç»‘å®šå…³ç³»

æ­¥éª¤3: å¼€å‘Rediså·¥å…·ç±»
  â””â”€â”€ AiSshRedisUtils.java        - ç»‘å®šå…³ç³»ã€æ¶ˆæ¯å­˜å‚¨

æ­¥éª¤4: å¼€å‘Controllerå±‚
  â”œâ”€â”€ DTOç±»                       - è¯·æ±‚/å“åº”å¯¹è±¡
  â””â”€â”€ AiSshAssistantController.java - HTTPæ¡æ‰‹æ¥å£

æ­¥éª¤5: å¼€å‘Serviceå±‚
  â”œâ”€â”€ AiSshAssistantService.java  - AIå¯¹è¯é€»è¾‘
  â”œâ”€â”€ SshSessionContext.java      - ThreadLocalä¸Šä¸‹æ–‡
  â””â”€â”€ SshExecuteTool.java         - SSHå‘½ä»¤å·¥å…·ï¼ˆå®Œå–„ï¼‰

æ­¥éª¤6: å®Œå–„/Handlerå±‚
  â”œâ”€â”€ AiSshAssistantHandler.java  - WebSocketæ¶ˆæ¯å¤„ç†
  â””â”€â”€ WsChatMessage.java          - WebSocketæ¶ˆæ¯DTO

æ­¥éª¤7: å®Œå–„/Managerå±‚
  â””â”€â”€ AiSshAssistantManager.java  - ä¼šè¯ç®¡ç†

æ­¥éª¤8: é…ç½®WebSocketè·¯å¾„
  â””â”€â”€ AgentModelWebSocketConfig.java - æ›´æ–°è·¯ç”±é…ç½®
```

### 5.4 APIæ¥å£è®¾è®¡

#### HTTPæ¡æ‰‹æ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/ai/ssh-assistant/connect` | åˆ›å»ºAIä¼šè¯ï¼Œå»ºç«‹ç»‘å®š |
| DELETE | `/api/ai/ssh-assistant/disconnect/{aiSessionId}` | æ–­å¼€AIä¼šè¯ |
| GET | `/api/ai/ssh-assistant/binding/{aiSessionId}` | è·å–ç»‘å®šä¿¡æ¯ |
| GET | `/api/ai/ssh-assistant/active/{aiSessionId}` | æ£€æŸ¥ä¼šè¯æ˜¯å¦æ´»è·ƒ |

#### WebSocketæ¥å£

| è·¯å¾„ | è¯´æ˜ |
|------|------|
| `/ws/ai/ssh-assistant/{aiSessionId}` | AIåŠ©æ‰‹WebSocketé•¿è¿æ¥ |

#### æ¶ˆæ¯æ ¼å¼

```json
// å®¢æˆ·ç«¯å‘é€
{
  "type": "chat",
  "content": "å¸®æˆ‘æŸ¥çœ‹CPUä½¿ç”¨ç‡"
}

// æœåŠ¡ç«¯å“åº”ï¼ˆæˆåŠŸï¼‰
{
  "type": "reply",
  "content": "å¥½çš„ï¼Œæ­£åœ¨ä¸ºæ‚¨æŸ¥è¯¢...",
  "timestamp": 1234567890000
}

// æœåŠ¡ç«¯å“åº”ï¼ˆé”™è¯¯ï¼‰
{
  "type": "error",
  "errorCode": "SESSION_NOT_FOUND",
  "content": "AIä¼šè¯ä¸å­˜åœ¨ï¼Œè¯·é‡æ–°è¿æ¥",
  "timestamp": 1234567890000
}
```

### 5.5 Redisæ•°æ®ç»“æ„è®¾è®¡

```
# ç»‘å®šå…³ç³»ï¼ˆStringï¼Œå­˜å‚¨JSONï¼‰
ai:ssh:binding:{aiSessionId} â†’ {
  "aiSessionId": "yyy",
  "sshSessionId": "xxx",
  "agentId": "agent-001",
  "userId": "user-001",
  "createdAt": 1234567890000
}
TTL: 24å°æ—¶

# æ¶ˆæ¯åˆ—è¡¨ï¼ˆListï¼‰
ai:ssh:messages:{aiSessionId} â†’ [Message1, Message2, ...]
TTL: 24å°æ—¶

# ä¼šè¯ä¿¡æ¯ï¼ˆStringï¼Œå­˜å‚¨JSONï¼‰
ai:ssh:info:{aiSessionId} â†’ {
  "sessionId": "yyy",
  "agentId": "agent-001",
  "sshSessionId": "xxx",
  "createdAt": 1234567890000,
  "messageCount": 5,
  "summary": "å†å²å¯¹è¯æ€»ç»“..."
}
TTL: 24å°æ—¶

# WebSocketæ´»è·ƒä¼šè¯é›†åˆï¼ˆSetï¼‰
ai:ssh:ws:sessions â†’ Set<aiSessionId>
```

---

## å…­ã€æ¶æ„å¯¹æ¯”

### 6.1 ä¸¤ç§AIåŠ©æ‰‹åœºæ™¯å¯¹æ¯”

| ç‰¹æ€§ | åœºæ™¯Aï¼šå…¨å±€ä¾§è¾¹æ AIåŠ©æ‰‹ | åœºæ™¯Bï¼šä¸»æœºè¯¦æƒ…é¡µAIåŠ©æ‰‹ |
|------|------------------------|------------------------|
| **ä½ç½®** | å…¨å±€ä¾§è¾¹æ  | ä¸»æœºè¯¦æƒ…é¡µ |
| **é€šä¿¡æ–¹å¼** | HTTP REST API | WebSocketé•¿è¿æ¥ |
| **ä¼šè¯ç±»å‹** | é€šç”¨ä¼šè¯ | ä¸SSHç»ˆç«¯ç»‘å®š |
| **ä¸»æœºå…³è”** | å¯é€‰ | å¿…éœ€ï¼ˆé€šè¿‡SSH Sessionï¼‰ |
| **SSHå‘½ä»¤æ‰§è¡Œ** | ä¸æ”¯æŒ | æ”¯æŒ |
| **Controller** | ChatController | AiSshAssistantController |
| **Service** | ChatService | AiSshAssistantService |
| **Handler** | æ—  | AiSshAssistantHandler |
| **Rediså‰ç¼€** | `assistant:session:*` | `ai:ssh:*` |
| **å¼€å‘çŠ¶æ€** | âœ… å·²å®Œæˆ | âœ… å·²å®Œæˆ |

### 6.2 ä»£ç å¤ç”¨å…³ç³»

| æ–‡ä»¶ | åœºæ™¯A | åœºæ™¯B | è¯´æ˜ |
|------|-------|-------|------|
| `Message.java` | âœ… | âœ… | å…±äº« |
| `SessionInfo.java` | âœ… | - | ä»…åœºæ™¯Aä½¿ç”¨ |
| `ChatController.java` | âœ… | - | ä»…åœºæ™¯Aä½¿ç”¨ |
| `ChatService.java` | âœ… | - | ä»…åœºæ™¯Aä½¿ç”¨ |
| `ModelRedisUtils.java` | âœ… | - | ä»…åœºæ™¯Aä½¿ç”¨ |
| `AiSshAssistantController.java` | - | âœ… | ä»…åœºæ™¯Bä½¿ç”¨ |
| `AiSshAssistantService.java` | - | âœ… | ä»…åœºæ™¯Bä½¿ç”¨ |
| `AiSshAssistantHandler.java` | - | âœ… | ä»…åœºæ™¯Bä½¿ç”¨ |
| `AiSshRedisUtils.java` | - | âœ… | ä»…åœºæ™¯Bä½¿ç”¨ |

---

## ä¸ƒã€åç«¯å¼€å‘å®Œæˆæ€»ç»“

### 7.1 å¼€å‘æ­¥éª¤å®Œæˆæƒ…å†µ

| æ­¥éª¤ | å†…å®¹ | çŠ¶æ€ |
|------|------|------|
| æ­¥éª¤1 | æ–‡ä»¶é‡å‘½å | âœ… å®Œæˆ |
| æ­¥éª¤2 | åŸºç¡€å®ä½“ç±» | âœ… å®Œæˆ |
| æ­¥éª¤3 | Rediså·¥å…·ç±» | âœ… å®Œæˆ |
| æ­¥éª¤4 | Controllerå±‚ | âœ… å®Œæˆ |
| æ­¥éª¤5 | Serviceå±‚ + ThreadLocal | âœ… å®Œæˆ |
| æ­¥éª¤6 | Handlerå±‚ | âœ… å®Œæˆ |
| æ­¥éª¤7 | Managerå±‚ | âœ… å®Œæˆ |
| æ­¥éª¤8 | WebSocketè·¯å¾„é…ç½® | âœ… å®Œæˆ |

### 7.2 å·²åˆ›å»º/ä¿®æ”¹çš„æ–‡ä»¶ï¼ˆåœºæ™¯Bï¼‰

```
monitor-project/Monitor-Server/src/main/java/com/hundred/monitor/server/

â”œâ”€â”€ ai/
â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â””â”€â”€ SshSessionContext.java              âœ… ThreadLocalä¸Šä¸‹æ–‡æŒæœ‰è€…
â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”œâ”€â”€ AiSshAssistantSession.java           âœ… ä¼šè¯å®ä½“ï¼ˆé‡å‘½åï¼‰
â”‚   â”‚   â””â”€â”€ SshSessionBinding.java              âœ… SSH-AIç»‘å®šå…³ç³»å®ä½“
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â””â”€â”€ AiSshAssistantService.java          âœ… AIå¯¹è¯æœåŠ¡
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â””â”€â”€ SshExecuteTool.java                 âœ… SSHå‘½ä»¤æ‰§è¡Œå·¥å…·
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ AiSshRedisUtils.java                âœ… Rediså·¥å…·ç±»ï¼ˆ24ä¸ªæ–¹æ³•ï¼‰
â”‚   â”œâ”€â”€ websocket/
â”‚   â”‚   â”œâ”€â”€ AgentModelWebSocketConfig.java      âœ… WebSocketé…ç½®
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â””â”€â”€ WsChatMessage.java              âœ… WebSocketæ¶ˆæ¯DTO
â”‚   â”‚   â”œâ”€â”€ handler/
â”‚   â”‚   â”‚   â””â”€â”€ AiSshAssistantHandler.java      âœ… WebSocketå¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ manager/
â”‚   â”‚       â””â”€â”€ AiSshAssistantManager.java      âœ… ä¼šè¯ç®¡ç†å™¨ï¼ˆ18ä¸ªæ–¹æ³•ï¼‰
â”‚   â””â”€â”€ controller/
â”‚       â””â”€â”€ AiSshAssistantController.java      âœ… HTTPæ¡æ‰‹æ¥å£
â”‚
â””â”€â”€ model/
    â”œâ”€â”€ request/
    â”‚   â””â”€â”€ ConnectRequest.java                 âœ… è¿æ¥è¯·æ±‚DTO
    â””â”€â”€ response/
        â””â”€â”€ ConnectResponse.java                âœ… è¿æ¥å“åº”DTO
```

### 7.3 æ ¸å¿ƒåŠŸèƒ½å®ç°

#### ThreadLocalä¸Šä¸‹æ–‡ä¼ é€’ï¼ˆæ–¹æ¡ˆBï¼‰

```
AiSshAssistantService.sendMessage()
    â”‚
    â”œâ”€ è®¾ç½® ThreadLocal
    â”‚   SshSessionContext.setSshSessionId()
    â”‚   SshSessionContext.setAgentId()
    â”‚
    â”œâ”€ è°ƒç”¨ AI æ¨¡å‹
    â”‚   model.chat(context)
    â”‚     â”‚
    â”‚     â””â”€> AI å†³å®šè°ƒç”¨å·¥å…·
    â”‚           â”‚
    â”‚           â””â”€> SshExecuteTool.executeCommand(cmd)
    â”‚                  â”‚
    â”‚                  â””â”€> ä»ThreadLocalè·å–sshSessionId
    â”‚                       SshSessionContext.get()
    â”‚
    â””â”€ æ¸…ç† ThreadLocal
        SshSessionContext.clear()
```

#### å·¥å…·è°ƒç”¨æœºåˆ¶

```java
@Tool("åœ¨SSHç»ˆç«¯æ‰§è¡Œå‘½ä»¤ï¼Œç”¨äºæ‰§è¡ŒLinuxå‘½ä»¤å¹¶æŸ¥çœ‹ç»“æœ")
public String executeCommand(String command) {
    // ä»ThreadLocalè·å–sshSessionId
    String sshSessionId = SshSessionContext.getSshSessionId();

    // è·å–SSHä¼šè¯
    SshSession sshSession = SshSessionManager.getInstance().getSession(sshSessionId);

    // å‘SSHå‘é€å‘½ä»¤
    sshSession.getOutputStream().write((command + "\n").getBytes());
    sshSession.getOutputStream().flush();

    return "å‘½ä»¤å·²å‘é€åˆ°ç»ˆç«¯ï¼Œè¯·æŸ¥çœ‹ç»ˆç«¯è¾“å‡ºç»“æœã€‚";
}
```

### 7.4 å¾…å®Œå–„é¡¹

| é¡¹ç›® | å½“å‰çŠ¶æ€ | è¯´æ˜ |
|------|----------|------|
| JWTç”¨æˆ·ID | å†™æ­» "default-user" | TODOæ ‡è®°ï¼Œå¾…é›†æˆJWT |
| è·¨åŸŸé…ç½® | `setAllowedOrigins("*")` | ç”Ÿäº§ç¯å¢ƒéœ€é™åˆ¶åŸŸå |
| SSHå‘½ä»¤è¿”å› | ä»…å‘é€ï¼ŒæœªåŒæ­¥ç­‰å¾…ç»“æœ | å¼‚æ­¥æ¨é€åˆ°å‰ç«¯ |

### 7.5 éªŒè¯æ£€æŸ¥é¡¹

| éªŒè¯é¡¹ | è¯´æ˜ |
|--------|------|
| 1. AIæ¨¡å‹é…ç½® | `application.yaml` ä¸­API keyå’Œbase-url |
| 2. RedisæœåŠ¡ | Redisæ˜¯å¦æ­£å¸¸è¿è¡Œ |
| 3. SystemMessage | LangChain4jç‰ˆæœ¬æ”¯æŒæƒ…å†µ |
| 4. å·¥å…·è°ƒç”¨ | `@Tool`æ³¨è§£è¯†åˆ«å’Œè°ƒç”¨ |

---

## å…«ã€å¼€å‘æ—¥å¿—

| æ—¥æœŸ | æ“ä½œ | çŠ¶æ€ |
|------|------|------|
| åˆå§‹ | å®Œæˆæ­¥éª¤1-4å¼€å‘ï¼ˆåœºæ™¯Aï¼‰ | âœ… å®Œæˆ |
| - | å¼€å‘æš‚åœï¼Œé‡æ–°åˆ†æéœ€æ±‚ | â¸ï¸ æš‚åœ |
| - | ç”¨æˆ·æ¾„æ¸…éœ€æ±‚ï¼Œé‡æ–°è®¾è®¡æ¶æ„ | ğŸ“‹ å·²ç¡®è®¤ |
| - | æ–‡æ¡£åŒ–äº¤æµè¿‡ç¨‹ | ğŸ“ å®Œæˆ |
| - | æ‰§è¡Œæ­¥éª¤1-8ï¼ˆåœºæ™¯Båç«¯å¼€å‘ï¼‰ | âœ… å®Œæˆ |

---

*æ–‡æ¡£åˆ›å»ºæ—¶é—´ï¼š2025å¹´*
*æœ€åæ›´æ–°æ—¶é—´ï¼š2025å¹´ï¼ˆåç«¯å¼€å‘å®Œæˆï¼‰*
